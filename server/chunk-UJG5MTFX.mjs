import './polyfills.server.mjs';
import{d as O,e as $}from"./chunk-M7NQYV73.mjs";import{B as I,C as M,D as w,E as T,F as V,G as k,H as E}from"./chunk-RH7GTKZB.mjs";import{ca as h}from"./chunk-D7W7HLCT.mjs";import{a as D}from"./chunk-QCUH5PD6.mjs";import{$ as g,Ca as r,Fb as u,Hb as m,Jc as P,Kc as S,Na as v,Nb as b,Nc as y,S as d,Ta as p,_,eb as i,nb as a,ob as s,pb as f,tb as x,vb as C,wb as l}from"./chunk-TAFNKWK7.mjs";import"./chunk-X2SEQXRR.mjs";var z=()=>({"left.px":5,"top.px":5});function B(e,o){if(e&1&&f(0,"p-tag",14),e&2){let t=l().$implicit,n=l(2);i("value",n.amountProduct(t.id))("ngStyle",b(2,z))}}function F(e,o){if(e&1&&(a(0,"span",15),u(1),s()),e&2){let t=l().$implicit;r(),m("$",t.discount,"")}}function L(e,o){if(e&1){let t=x();a(0,"div",4)(1,"div",5)(2,"div",6),f(3,"app-lazy-image",7),p(4,B,1,3,"p-tag",8),s()(),a(5,"div",9),u(6),s(),a(7,"div",10)(8,"div",11),u(9),p(10,F,2,1,"span",12),s(),a(11,"span")(12,"p-button",13),C("click",function(){let c=_(t).$implicit,j=l(2);return g(j.showModal(c))}),s()()()()}if(e&2){let t=o.$implicit,n=l(2);r(3),i("url",n.baseProducts+t.image+".webp")("alt",t.name),r(),i("ngIf",n.amountProduct(t.id)),r(2),m(" ",t.name," "),r(3),m(" ","$"+t.price," "),r(),i("ngIf",t.discount!=0),r(2),i("disabled",!t.status)("label",t.status?"":"No disponible")}}function R(e,o){if(e&1&&(a(0,"p-carousel",2),p(1,L,13,8,"ng-template",3),s()),e&2){let t=l();i("value",t.products)("numVisible",4)("numScroll",3)("responsiveOptions",t.responsiveOptions)}}var N=class e{modalProduct=d(V);cartsService=d(w);get currentCart(){return this.cartsService.cartSignal}get currentProduct(){return this.modalProduct.productSignal}get stateModal(){return this.modalProduct.modalSignal()}get modal(){return this.modalProduct.modalSignal}baseProducts=T.baseProducts;products=[];responsiveOptions=[{breakpoint:"1199px",numVisible:4,numScroll:4},{breakpoint:"991px",numVisible:3,numScroll:3},{breakpoint:"800px",numVisible:2,numScroll:2},{breakpoint:"600px",numVisible:1,numScroll:1}];showModal(o){this.currentProduct.set(o),this.modal.set(!0)}amountProduct(o){let t=this.currentCart().reduce((n,c)=>c.product.id===o?n+c.amount:n,0);return t?t.toString():""}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-carousel-products"]],inputs:{products:"products"},decls:2,vars:1,consts:[[1,"card"],["showIndicators","false",3,"value","numVisible","numScroll","responsiveOptions",4,"ngIf"],["showIndicators","false",3,"value","numVisible","numScroll","responsiveOptions"],["pTemplate","item"],[1,"border-1","surface-border","border-round","m-2","p-3"],[1,"mb-3"],[1,"relative","mx-auto"],[3,"url","alt"],["severity","success","class","absolute",3,"value","ngStyle",4,"ngIf"],[1,"mb-3","font-medium"],[1,"flex","justify-content-between","align-items-center"],[1,"mt-0","font-semibold","text-xl"],["class","text-danger","style","text-decoration: line-through;",4,"ngIf"],["icon","pi pi-shopping-cart","styleClass","ml-2",3,"click","disabled","label"],["severity","success",1,"absolute",3,"value","ngStyle"],[1,"text-danger",2,"text-decoration","line-through"]],template:function(t,n){t&1&&(a(0,"div",0),p(1,R,2,4,"p-carousel",1),s()),t&2&&(r(),i("ngIf",n.products.length))},dependencies:[y,P,S,$,O,h,M,I,E,k,D],encapsulation:2})};export{N as CarouselProductsComponent};
